{"remainingRequest":"C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\src\\router.js","dependencies":[{"path":"C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\src\\router.js","mtime":1578908126889},{"path":"C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1557703735755},{"path":"C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1557703735405},{"path":"C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\node_modules\\eslint-loader\\index.js","mtime":1557703738744}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport Vue from \"vue\";\nimport Router from \"vue-router\";\nimport PostsList from \"./components/PostsList.vue\";\nimport PostDetail from \"./components/PostDetail\";\nimport PostAdd from \"./components/PostAdd\";\nimport PostUpdate from \"./components/PostUpdate\";\nimport Home from \"./auth/Home\";\nimport Login from \"./auth/views/Login\";\nimport Register from \"./auth/views/Register\";\nVue.use(Router);\nvar router = new Router({\n  mode: \"history\",\n  routes: [{\n    path: \"/posts\",\n    name: \"posts-list\",\n    component: PostsList\n  }, {\n    path: \"/posts/:id\",\n    name: \"post-details\",\n    component: PostDetail,\n    props: true,\n    children: [{\n      path: \"update\",\n      name: \"post-update\",\n      component: PostUpdate\n    }]\n  }, {\n    path: \"/add\",\n    name: \"post-add\",\n    component: PostAdd\n  }, {\n    path: \"/login\",\n    name: \"login\",\n    component: Login\n  }, {\n    path: \"/register\",\n    name: \"register\",\n    component: Register\n  }, {\n    path: \"/\",\n    alias: \"/home\",\n    name: \"home\",\n    component: Home\n  }, {\n    path: \"/profile\",\n    name: \"profile\",\n    // lazy-loaded\n    component: function component() {\n      return import(\"./auth/views/Profile\");\n    }\n  }, {\n    path: \"/admin\",\n    name: \"admin\",\n    // lazy-loaded\n    component: function component() {\n      return import(\"./auth/views/BoardAdmin\");\n    }\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var publicPages = ['/login', '/home', '/register'];\n  var authRequired = !publicPages.includes(to.path);\n  var loggedIn = localStorage.getItem('user'); // try to access a restricted page + not logged in\n\n  if (authRequired && !loggedIn) {\n    return next('/login');\n  }\n\n  next();\n});\nexport default router;",{"version":3,"sources":["C:\\Users\\WIN10\\IdeaProjects\\newsfeeder\\webapp\\src\\router.js"],"names":["Vue","Router","PostsList","PostDetail","PostAdd","PostUpdate","Home","Login","Register","use","router","mode","routes","path","name","component","props","children","alias","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAEAR,GAAG,CAACS,GAAJ,CAAQR,MAAR;AAEA,IAAMS,MAAM,GAAG,IAAIT,MAAJ,CAAW;AACtBU,EAAAA,IAAI,EAAE,SADgB;AAEtBC,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,IAAI,EAAE,YAFV;AAGIC,IAAAA,SAAS,EAAEb;AAHf,GADI,EAMJ;AACIW,IAAAA,IAAI,EAAE,YADV;AAEIC,IAAAA,IAAI,EAAE,cAFV;AAGIC,IAAAA,SAAS,EAAEZ,UAHf;AAIIa,IAAAA,KAAK,EAAE,IAJX;AAKIC,IAAAA,QAAQ,EAAE,CACN;AACIJ,MAAAA,IAAI,EAAE,QADV;AAEIC,MAAAA,IAAI,EAAE,aAFV;AAGIC,MAAAA,SAAS,EAAEV;AAHf,KADM;AALd,GANI,EAmBJ;AACIQ,IAAAA,IAAI,EAAE,MADV;AAEIC,IAAAA,IAAI,EAAE,UAFV;AAGIC,IAAAA,SAAS,EAAEX;AAHf,GAnBI,EAwBJ;AACIS,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,IAAI,EAAE,OAFV;AAGIC,IAAAA,SAAS,EAAER;AAHf,GAxBI,EA6BJ;AACIM,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,IAAI,EAAE,UAFV;AAGIC,IAAAA,SAAS,EAAEP;AAHf,GA7BI,EAkCJ;AACIK,IAAAA,IAAI,EAAE,GADV;AAEIK,IAAAA,KAAK,EAAE,OAFX;AAGIJ,IAAAA,IAAI,EAAE,MAHV;AAIIC,IAAAA,SAAS,EAAET;AAJf,GAlCI,EAwCJ;AACIO,IAAAA,IAAI,EAAE,UADV;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGI;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,sBAAP,CAAN;AAAA;AAJf,GAxCI,EA8CJ;AACIF,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,IAAI,EAAE,OAFV;AAGI;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAJf,GA9CI;AAFc,CAAX,CAAf;AAyDAL,MAAM,CAACS,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,WAAW,GAAG,CAAC,QAAD,EAAW,OAAX,EAAoB,WAApB,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACP,IAAxB,CAAtB;AACA,MAAMa,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHkC,CAKlC;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC3B,WAAOJ,IAAI,CAAC,QAAD,CAAX;AACH;;AAEDA,EAAAA,IAAI;AACP,CAXD;AAaA,eAAeZ,MAAf","sourcesContent":["import Vue from \"vue\";\r\nimport Router from \"vue-router\";\r\nimport PostsList from \"./components/PostsList.vue\";\r\nimport PostDetail from \"./components/PostDetail\";\r\nimport PostAdd from \"./components/PostAdd\";\r\nimport PostUpdate from \"./components/PostUpdate\";\r\n\r\nimport Home from \"./auth/Home\";\r\nimport Login from \"./auth/views/Login\";\r\nimport Register from \"./auth/views/Register\";\r\n\r\nVue.use(Router);\r\n\r\nconst router = new Router({\r\n    mode: \"history\",\r\n    routes: [\r\n        {\r\n            path: \"/posts\",\r\n            name: \"posts-list\",\r\n            component: PostsList\r\n        },\r\n        {\r\n            path: \"/posts/:id\",\r\n            name: \"post-details\",\r\n            component: PostDetail,\r\n            props: true,\r\n            children: [\r\n                {\r\n                    path: \"update\",\r\n                    name: \"post-update\",\r\n                    component: PostUpdate\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            path: \"/add\",\r\n            name: \"post-add\",\r\n            component: PostAdd\r\n        },\r\n        {\r\n            path: \"/login\",\r\n            name: \"login\",\r\n            component: Login\r\n        },\r\n        {\r\n            path: \"/register\",\r\n            name: \"register\",\r\n            component: Register\r\n        },\r\n        {\r\n            path: \"/\",\r\n            alias: \"/home\",\r\n            name: \"home\",\r\n            component: Home\r\n        },\r\n        {\r\n            path: \"/profile\",\r\n            name: \"profile\",\r\n            // lazy-loaded\r\n            component: () => import(\"./auth/views/Profile\")\r\n        },\r\n        {\r\n            path: \"/admin\",\r\n            name: \"admin\",\r\n            // lazy-loaded\r\n            component: () => import(\"./auth/views/BoardAdmin\")\r\n        },\r\n    ]\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const publicPages = ['/login', '/home', '/register'];\r\n    const authRequired = !publicPages.includes(to.path);\r\n    const loggedIn = localStorage.getItem('user');\r\n\r\n    // try to access a restricted page + not logged in\r\n    if (authRequired && !loggedIn) {\r\n        return next('/login');\r\n    }\r\n\r\n    next();\r\n});\r\n\r\nexport default router;"]}]}